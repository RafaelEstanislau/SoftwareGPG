{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rafal\\\\OneDrive\\\\Documentos\\\\Projeto-Software\\\\PS-ES-2021-2-GPG\\\\4.Sistema\\\\software-gpg\\\\src\\\\components\\\\Tasks.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { getDocs, collection, deleteDoc, doc } from \"firebase/firestore\";\nimport { Card, Button } from \"react-bootstrap\";\nimport { auth, db } from \"../firebase\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Home(_ref) {\n  _s();\n\n  let {\n    isAuth\n  } = _ref;\n  const [taskLists, setTaskLists] = useState([]);\n  const taskCollectionRef = collection(db, \"tasks\");\n  useEffect(() => {\n    const getTasks = async () => {\n      const data = await getDocs(taskCollectionRef);\n      setTaskLists(data.docs.map(doc => ({ ...doc.data(),\n        id: doc.id\n      })));\n    };\n\n    getTasks();\n  });\n\n  const deleteTask = async id => {\n    const taskDoc = doc(db, \"tasks\", id);\n    await deleteDoc(taskDoc);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: taskLists.map(task => {\n      return /*#__PURE__*/_jsxDEV(Card, {\n        children: /*#__PURE__*/_jsxDEV(Card.Body, {\n          children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n            children: /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: task.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 29,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 28,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n            children: task.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 15\n          }, this), isAuth && task.author.id === auth.currentUser.uid && /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => {\n              deleteTask(task.id);\n            },\n            className: \"btn btn-danger\",\n            children: \"Excluir\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 11\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Home, \"SVY0i/p2WrxrpIBnPl9Y8zdJX3k=\");\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["C:/Users/rafal/OneDrive/Documentos/Projeto-Software/PS-ES-2021-2-GPG/4.Sistema/software-gpg/src/components/Tasks.js"],"names":["React","useEffect","useState","getDocs","collection","deleteDoc","doc","Card","Button","auth","db","Home","isAuth","taskLists","setTaskLists","taskCollectionRef","getTasks","data","docs","map","id","deleteTask","taskDoc","task","title","text","author","currentUser","uid"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,OAAT,EAAkBC,UAAlB,EAA8BC,SAA9B,EAAyCC,GAAzC,QAAoD,oBAApD;AACA,SAASC,IAAT,EAAeC,MAAf,QAA6B,iBAA7B;AACA,SAASC,IAAT,EAAeC,EAAf,QAAyB,aAAzB;;;AAEA,SAASC,IAAT,OAAwB;AAAA;;AAAA,MAAV;AAACC,IAAAA;AAAD,GAAU;AACtB,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BZ,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAMa,iBAAiB,GAAGX,UAAU,CAACM,EAAD,EAAK,OAAL,CAApC;AAEAT,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMe,QAAQ,GAAG,YAAY;AAC3B,YAAMC,IAAI,GAAG,MAAMd,OAAO,CAACY,iBAAD,CAA1B;AACAD,MAAAA,YAAY,CAACG,IAAI,CAACC,IAAL,CAAUC,GAAV,CAAeb,GAAD,KAAU,EAAE,GAAGA,GAAG,CAACW,IAAJ,EAAL;AAAiBG,QAAAA,EAAE,EAAEd,GAAG,CAACc;AAAzB,OAAV,CAAd,CAAD,CAAZ;AACD,KAHD;;AAIAJ,IAAAA,QAAQ;AACT,GANQ,CAAT;;AAQA,QAAMK,UAAU,GAAG,MAAOD,EAAP,IAAc;AAC/B,UAAME,OAAO,GAAGhB,GAAG,CAACI,EAAD,EAAK,OAAL,EAAcU,EAAd,CAAnB;AACA,UAAMf,SAAS,CAACiB,OAAD,CAAf;AACD,GAHD;;AAIA,sBACE;AAAA,cACGT,SAAS,CAACM,GAAV,CAAeI,IAAD,IAAU;AACvB,0BACE,QAAC,IAAD;AAAA,+BACE,QAAC,IAAD,CAAM,IAAN;AAAA,kCACE,QAAC,IAAD,CAAM,KAAN;AAAA,mCACE;AAAA,wBAAKA,IAAI,CAACC;AAAV;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF,eAIE,QAAC,IAAD,CAAM,IAAN;AAAA,sBAAYD,IAAI,CAACE;AAAjB;AAAA;AAAA;AAAA;AAAA,kBAJF,EAKGb,MAAM,IAAIW,IAAI,CAACG,MAAL,CAAYN,EAAZ,KAAmBX,IAAI,CAACkB,WAAL,CAAiBC,GAA9C,iBACC,QAAC,MAAD;AACE,YAAA,OAAO,EAAE,MAAM;AACbP,cAAAA,UAAU,CAACE,IAAI,CAACH,EAAN,CAAV;AACD,aAHH;AAIE,YAAA,SAAS,EAAC,gBAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBANJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF;AAoBD,KArBA;AADH;AAAA;AAAA;AAAA;AAAA,UADF;AA0BD;;GA1CQT,I;;KAAAA,I;AA4CT,eAAeA,IAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { getDocs, collection, deleteDoc, doc } from \"firebase/firestore\";\r\nimport { Card, Button } from \"react-bootstrap\";\r\nimport { auth, db } from \"../firebase\";\r\n\r\nfunction Home({isAuth}) {\r\n  const [taskLists, setTaskLists] = useState([]);\r\n  const taskCollectionRef = collection(db, \"tasks\");\r\n\r\n  useEffect(() => {\r\n    const getTasks = async () => {\r\n      const data = await getDocs(taskCollectionRef);\r\n      setTaskLists(data.docs.map((doc) => ({ ...doc.data(), id: doc.id })));\r\n    };\r\n    getTasks();\r\n  });\r\n\r\n  const deleteTask = async (id) => {\r\n    const taskDoc = doc(db, \"tasks\", id);\r\n    await deleteDoc(taskDoc);\r\n  };\r\n  return (\r\n    <div>\r\n      {taskLists.map((task) => {\r\n        return (\r\n          <Card>\r\n            <Card.Body>\r\n              <Card.Title>\r\n                <h1>{task.title}</h1>\r\n              </Card.Title>\r\n              <Card.Text>{task.text}</Card.Text>\r\n              {isAuth && task.author.id === auth.currentUser.uid && (\r\n                <Button\r\n                  onClick={() => {\r\n                    deleteTask(task.id);\r\n                  }}\r\n                  className=\"btn btn-danger\"\r\n                >\r\n                  Excluir\r\n                </Button>\r\n              )}\r\n            </Card.Body>\r\n          </Card>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}